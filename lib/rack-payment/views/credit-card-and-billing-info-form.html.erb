<h1>Credit Card and Billing Info</h1>

<% if @errors and not @errors.empty? %>
  <ul class='errors'>
    <% for error in @errors %>
      <li><%= error %></li>
    <% end %>
  </ul>
<% end %>

<form action='/rack-payment-processing' method='post'>

  <!-- required?  try getting rid of it -->
  <input type='rack.payment' value='true' />

  <fieldset>
    <legend>Credit Card</legend>

    <% %w( first_name last_name number cvv expiration_month expiration_year type ).each do |field| %>
      <label>
        <input type='text' name='credit_card_<%= field %>' value='<%= @params["credit_card_#{ field }"] %>' />
      </label>
    <% end %>
  </fieldset>

  <fieldset>
    <legend>Billing Address</legend>

    <% %w( name address1 city state country zip ).each do |field| %>
      <label>
        <input type='text' name='billing_address_<%= field %>' value='<%= @params["billing_address_#{ field }"] %>' />
      </label>
    <% end %>
  </fieldset>

  <input type='submit' value='Purchase' />

</form>
